<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Index | ระบบจัดการร้านค้า</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .dashboard-box {
      border-radius: 15px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      color: white;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .dashboard-box:hover {
      transform: scale(1.05);
    }

    .box-link {
      text-decoration: none;
      color: white;
    }

    .box-footer {
      background: rgba(0,0,0,0.2);
      border-bottom-left-radius: 15px;
      border-bottom-right-radius: 15px;
      padding: 10px;
      text-align: center;
      font-size: 0.9rem;
    }

    .stats-box {
      border-radius: 15px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      padding: 20px;
      background-color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .stats-icon {
      font-size: 2.5rem;
      color: #c8c8c8;
    }

    .stats-value {
      font-size: 1.8rem;
      font-weight: bold;
      color: #232c3d;
    }

    .stats-description {
      color: #d9534f;
    }
  </style>
</head>
<body class="bg-light">
  <div class="d-flex">
    <!-- Sidebar -->
    <div class="bg-dark text-white p-3 vh-150" style="width: 250px;">
      <h5 class="text-center mb-4">ระบบร้านค้า</h5>
      <ul class="nav flex-column">
        <li class="nav-item mb-2"><a href="index.html" class="nav-link text-white"><i class="bi bi-speedometer2 me-2"></i> หน้าหลัก</a></li>
        <li class="nav-item mb-2"><a href="admins.html" class="nav-link text-white" onclick="loadPage('admins.html')"><i class="bi bi-person-gear me-2"></i> ผู้ดูแลระบบ</a>
        <li class="nav-item mb-2"><a href="products.html" class="nav-link text-white"><i class="bi bi-cart4 me-2"></i> รายการสินค้า</a></li>
        <li class="nav-item mb-2"><a href="customers.html" class="nav-link text-white"><i class="bi bi-people-fill me-2"></i> ลูกค้า</a></li>
        <li class="nav-item mb-2"><a href="orders.html" class="nav-link text-white"><i class="bi bi-bag-check me-2"></i> คำสั่งซื้อ</a></li>
        <li class="nav-item mb-2"><a href="logout.html" class="nav-link text-white"><i class="bi bi-box-arrow-right me-2"></i> ออกจากระบบ</a></li>
      </ul>
    </div>

    <!-- Content -->
    <div class="p-4 w-100">
      <h2 class="mb-4"></h2>

      <div class="row g-3 mb-4 justify-content-center">
        <div class="col-md-3">
          <a href="admins.html" class="box-link">
            <div class="dashboard-box bg-info">
              <div class="p-4 text-center">
                <h4>ผู้ดูแลระบบ</h4>
              </div>
              <div class="box-footer">คลิกจัดการระบบ <i class="bi bi-arrow-right-circle-fill"></i></div>
            </div>
          </a>
        </div>

        <div class="col-md-3">
          <a href="customers.html" class="box-link">
            <div class="dashboard-box bg-primary">
              <div class="p-4 text-center">
                <h4>รายชื่อลูกค้า</h4>
              </div>
              <div class="box-footer">คลิกจัดการระบบ <i class="bi bi-arrow-right-circle-fill"></i></div>
            </div>
          </a>
        </div>

        <div class="col-md-3">
          <a href="products.html" class="box-link">
            <div class="dashboard-box bg-success">
              <div class="p-4 text-center">
                <h4>รายการสินค้า</h4>
              </div>
              <div class="box-footer">คลิกจัดการระบบ <i class="bi bi-arrow-right-circle-fill"></i></div>
            </div>
          </a>
        </div>

        <div class="col-md-3">
          <a href="orders.html" class="box-link">
            <div class="dashboard-box bg-danger">
              <div class="p-4 text-center">
                <h4>รายการสั่งซื้อ</h4>
              </div>
              <div class="box-footer">คลิกจัดการระบบ <i class="bi bi-arrow-right-circle-fill"></i></div>
            </div>
          </a>
        </div>
      </div>

      <div class="row g-3">
        <div class="col-md-3">
          <div class="stats-box">
            <div>
              <div class="stats-value">3,500 บาท</div>
              <div class="stats-description">ยอดขายประจำวัน</div>
            </div>
            <i class="bi bi-bar-chart-fill stats-icon"></i>
          </div>
        </div>

        <div class="col-md-3">
          <div class="stats-box">
            <div>
              <div class="stats-value">25,000 บาท</div>
              <div class="stats-description">ยอดขาย 7 วันที่ผ่านมา</div>
            </div>
            <i class="bi bi-graph-up stats-icon"></i>
          </div>
        </div>

        <div class="col-md-3">
          <div class="stats-box">
            <div>
              <div class="stats-value">5 รายการ</div>
              <div class="stats-description">ยอดคำสั่งซื้อประจำวัน</div>
            </div>
            <i class="bi bi-cart-check-fill stats-icon"></i>
          </div>
        </div>

        <div class="col-md-3">
          <div class="stats-box">
            <div>
              <div class="stats-value">10 คน</div>
              <div class="stats-description">ลูกค้าใหม่ในเดือนนี้</div>
            </div>
            <i class="bi bi-people-fill stats-icon"></i>
          </div>
        </div>

      <div class="row g-3 mb-4">
        <!-- Existing Stats Boxes -->
      </div>

      <!-- Chart Box -->
      <div class="chart-box bg-white p-4 rounded shadow">
        <div class="chart-box bg-white p-4 rounded shadow">
  
            <div class="btn-group float-end mb-3">
                <button onclick="updateChart('month')" class="btn btn-outline-secondary">ยอดขายเดือนนี้</button>
                <button onclick="updateChart('6months')" class="btn btn-outline-secondary">6 เดือน</button>
                <button onclick="updateChart('12months')" class="btn btn-outline-secondary">12 เดือน</button>
                <button onclick="updateChart('2021')" class="btn btn-outline-secondary">2025</button>
              </div>
          
            <h3 class="mb-0">65,290</h3>
            <p class="stats-description">ยอดขายเดือน มิถุนายน 2021</p>
            <canvas id="salesChart" style="width:100%;max-height:400px;"></canvas>
          </div>
          
        

    </div>
  </div>

  <script>
    const ctx = document.getElementById('salesChart').getContext('2d');

    const dataSets = {
      month: {
        labels: ['01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30'],
        data: [1290,2000,1300,1800,1000,1500,2600,3250,4100,1300,1000,3500,2250,2000,1800,1300,3500,1500,2600,1800,3500,2250,1300,1800,3500,1500,2600,3500,2500,2250],
        title: 'ยอดขายเดือน เมษายน 2025',
        total: '65,290',
        type: 'line'
      },
      '6months': {
        labels: ['เม.ย. 21', 'พ.ค. 21', 'มิ.ย. 21', 'ก.ค. 21', 'ส.ค. 21', 'ก.ย. 21'],
        data: [54000, 46000, 80000, 75000, 64000, 46000],
        title: 'ยอดขาย 6 เดือนย้อนหลัง',
        total: '365,000',
        type: 'bar'
      },
      '12months': {
        labels: ['ม.ค.', 'ก.พ.', 'มี.ค.', 'เม.ย.', 'พ.ค.', 'มิ.ย.', 'ก.ค.', 'ส.ค.', 'ก.ย.', 'ต.ค.', 'พ.ย.', 'ธ.ค.'],
        data: [45000,55000,60000,54000,46000,80000,75000,64000,46000,58000,62000,71000],
        title: 'ยอดขาย 12 เดือนย้อนหลัง',
        total: '690,000',
        type: 'bar'
      },
      '2021': {
        labels: ['Q1','Q2','Q3','Q4'],
        data: [160000, 180000, 210000, 220000],
        title: 'ยอดขายปี 2025',
        total: '770,000',
        type: 'bar'
      }
    };

    let salesChart;

    function updateChart(period) {
      const dataset = dataSets[period];

      if (salesChart) {
        salesChart.destroy();
      }

      document.querySelector('.chart-box h3').innerText = dataset.total;
      document.querySelector('.chart-box .stats-description').innerText = dataset.title;

      salesChart = new Chart(ctx, {
        type: dataset.type,
        data: {
          labels: dataset.labels,
          datasets: [{
            data: dataset.data,
            backgroundColor: 'rgba(54, 162, 235, 0.5)',
            borderColor: 'rgba(54, 162, 235, 1)',
            borderWidth: 2,
            fill: dataset.type === 'line',
            tension: 0.4
          }]
        },
        options: {
          plugins: {legend:{display:false}},
          scales: { y: { beginAtZero: true } }
        }
      });
    }

    // โหลดกราฟเดือนล่าสุดเริ่มต้นเมื่อเปิดหน้า
    window.onload = () => updateChart('month');
</script>

    

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/script.js"></script>
</body>
</html>





